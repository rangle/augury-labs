<div gdAuto class="page-container">
  <div fxLayout="row">
    <div fxFlex fxLayout="column" class="content-container">
      <div fxFlex>
        <Card>
          <ag-execution-timeline [segments]="timelineSegments" [drag]="dragSegments" (onSegmentClick)="selectSegment($event)"
            [selectedSegment]="selectedSegment"></ag-execution-timeline>
        </Card>
      </div>
      <div fxFlex *ngIf="selectedSegment">
        <div class="segment-details">
          <div *ngIf="selectedSegment.originalMessage.type === 'task'">
            <Card>
              <ag-task-details [segment]="selectedSegment.originalMessage.lastElapsedTask"></ag-task-details>
            </Card>
          </div>
          <div *ngIf="selectedSegment.originalMessage.type === 'cycle'">
            <ag-instability-details [segment]="selectedSegment.originalMessage.lastElapsedCycle"></ag-instability-details>
          </div>
          <div *ngIf="selectedSegment.originalMessage.type === 'cd'">
            <Card>
              <ag-cd-details [segment]="selectedSegment.originalMessage.lastElapsedCD"></ag-cd-details>
            </Card>
          </div>
        </div>
      </div>
    </div>
    <div fxFlex="1 1 25%" style="background:white;">
      <div style="display:inline-block;height:3.3em;overflow:hidden;">
        <a href="https://rangle.io/" style="text-decoration: none;" target="_blank">
          <svg style="margin:1em" width="56px" viewBox="0 0 56 28">
            <g id="R">
              <path id="Fill-1" d="M14.4,12.4c2.4,0,4-1.6,4-4c0-2.4-1.6-4-4-4H5.2v8H14.4z M5.2,28H0V0h14.4c5.6,0,9.2,3.4,9.2,8.4 s-3.6,8.4-9.2,8.4h-1.2L24.4,28h-7l-11-11.2H5.2V28z"></path>
            </g>
            <g id="_x30_1_1_">
              <polygon points="56,0 56,28 28,28"></polygon>
            </g>
          </svg>
        </a>
        <h1 style="margin-top:0.37em;display:inline-block;vertical-align:top;color:black;padding-right:30px;">
          Augury: Execution Timeline
        </h1>
      </div>
      <div style="display:flex;">
        <button *ngIf="recording" class="rangle-button" (click)="clear()"> clear </button>
        <button *ngIf="recording" class="rangle-button" (click)="stop()">
          <svg version="1.1" id="Capa_1" x="0px" y="0px" width="50%" viewBox="0 0 357 357" style="height: 40%;vertical-align: middle;">
            <g>
              <g id="pause">
                <path d="M25.5,357h102V0h-102V357z M229.5,0v357h102V0H229.5z" style="fill:white" />
              </g>
            </g>
          </svg>
        </button>
        <button *ngIf="!recording" class="rangle-button" (click)="start()">
          <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" style="
              height: 40%;
              vertical-align: middle;
          ">
            <circle cx="50" cy="50" r="50" style="
              fill: #dc4141;
          "></circle>
          </svg>
        </button>
      </div>
    </div>
  </div>
</div>
