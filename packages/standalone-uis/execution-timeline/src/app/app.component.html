<div>
  <ag-execution-timeline [segments]="timelineSegments" (onSegmentClick)="selectSegment($event)" [selectedSegment]="selectedSegment"></ag-execution-timeline>
  <div class="segment-details" *ngIf="selectedSegment">
    <ag-task-details *ngIf="selectedSegment.originalMessage.type === 'task'" [segment]="selectedSegment.originalMessage.lastElapsedTask"></ag-task-details>
    <ag-instability-details *ngIf="selectedSegment.originalMessage.type === 'cycle'" [segment]="selectedSegment.originalMessage.lastElapsedCycle"></ag-instability-details>
    <ag-cd-details *ngIf="selectedSegment.originalMessage.type === 'cd'" [segment]="selectedSegment.originalMessage.lastElapsedCD"></ag-cd-details>
  </div>
</div>